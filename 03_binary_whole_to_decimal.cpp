/*
Программа: Перевод целого числа из двоичной системы в десятичную
Раздел методического пособия: Раздел 3. Перевод целых чисел из 2 СС в 10 СС
Описание: Реализует перевод положительного целого числа из 2-й СС в 10-ю СС с подробным выводом шагов
*/


#include <iostream> // Библиотека для ввода-вывода


using namespace std; // Пространство имен std


int main() {
    // Заголовок и ввод данных
    cout << "=== Программа перевода числа из 2 СС в 10 СС ===\n";
    cout << "Введите число от 0000 0000 до 1111 1111 в 2 СС для перевода: ";
    string number_bin; // Исходное число в 2 СС
    cin >> number_bin; // Ввод исходного числа в 2 СС
    cout << "Перевод числа " << number_bin << " из 2 СС в 10 СС:\n";


    // Проверка на нулевое число (0 в 2 СС = 0 в 10 СС)
    if (number_bin == "0") {
        cout << "Результат перевода: 0\n";
        return 0;
    }

    // Основной рабочий блок
    int number_int = 0; // Итоговое число в 10 СС
    int step = 1; // Счётчик шагов
    int power = 1; // Текущая степень двойки
    for (int i = number_bin.length() - 1; i >= 0; i--) {
        char symbol = number_bin[i]; // Текущий символ (бит)
        int digit; // Значение текущего бита (0 или 1)
        // Определение значения текущего бита
        if (symbol == '0') {
            digit = 0;
        } else {
            digit = 1;
        }
        int value = digit * power; // Вычисление значения текущего бита
        number_int = number_int + value; // Добавление значения текущего бита к итоговому числу
        cout << "Шаг " << step << ": бит = " << digit
                << ", степень 2^" << (step - 1) << ", значение = " << value << '\n';
        power = power * 2; // Увеличение степени двойки
        step = step + 1; // Увеличение счётчика шагов
    }

    cout << "Результат перевода: " << number_int << '\n';
    return 0;
}
